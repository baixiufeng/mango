<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>芒果图库</title>
</head>
<body>
    <div th:include="public/header"></div>
    <div class="container">
        <div class="col-md-9" v-for="item in picturelist">
            <div class="row" style="float: left">
                <div class="col-sm-6 col-md-4">
                    <div class="thumbnail">
                        <img :src="item.photo" alt="item.pictureName">
                        <div class="caption">
                            <p>{{item.type}}</p>
                            <p>{{item.pictureName}}</p>
                            <p>{{item.uid}}</p>
                            <div class="panel-footer">
                                <span class="glyphicon glyphicon-thumbs-up" style="margin: 0 10px 0 10px">15</span>
                                <span class="glyphicon glyphicon-eye-open" style="margin: 0 10px 0 10px">123</span>
                                <span class="glyphicon glyphicon-star" style="margin: 0 10px 0 10px">7小时前</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!--<div style="background-color: #8c8c8c;height: 80px;width: 200px;"></div>-->
        </div>
        <div class="col-md-3" style="padding: 1%;margin: 1%"></div>
    </div>
</body>
<script>
    function getContextPath() {
        var host=window.location.host;
        var protocol=window.location.protocol;
        return protocol+"//"+host;
    }
    function formatDate(date, fmt) {
        var o = {
            "M+": date.getMonth() + 1, //月份
            "d+": date.getDate(), //日
            "h+": date.getHours(), //小时
            "m+": date.getMinutes(), //分
            "s+": date.getSeconds(), //秒
            "q+": Math.floor((date.getMonth()+3)/3),
            "S": date.getMilliseconds() //毫秒
        };
        if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (date.getFullYear() + "").substr(4 - RegExp.$1.length));
        for (var k in o)
            if (new RegExp("(" + k + ")").test(fmt)) fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : (("00" + o[k]).substr(("" + o[k]).length)));
        return fmt;
    }
    var vueData={
        picturelist : []
    }
    var vueApp=new Vue({
        el: '.container',
        data: vueData,
        filters : {
            creatTime : function(time) {
                var date = new Date(time);
                return formatDate(date, 'yyyy-MM-dd');
            }
        },
        methods:{},
        mounted: function () {
            $.ajax({
                type: 'GET',
                url: getContextPath()+'/picture/page',
                data:{pageNo:1,pageSize:15},
                dataType: "json",
                success:function(result){
                    vueData.picturelist=result.list;
                    console.log(vueData.picturelist);
                }
            })
        }
    })
</script>
</html>